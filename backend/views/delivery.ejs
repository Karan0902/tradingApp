<%- include("partials/header") %>


<div class="jumbotron">
  <h1 class="display-4">Welcome to the Delivery Page</h1>
  <p>Welcome to Trading Portal</p>
</div>


<div class="p-5 enter-share">

  <div class="row">
    <div class="col">
      <form class="mb-4">
        <div class="form-group">
          <label for="exampleInputEmail1" class="share-label">Share Name</label>
          <input type="text" name="scrip" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter Share Name">

          <label for="exampleSharePrice" class="share-label mt-2">Share Price</label>
          <input type="text" name="price" class="form-control" id="exampleSharePrice" placeholder="Enter Share Price">
        </div>
  
        <div class="form-group">
          <input type="submit" name="name" value="BUY" class="buy-trade" formaction="/trades/delivery" formmethod="POST">
          <input type="submit" name="name" value="SELL" class="sell-trade" formaction="/trades/delivery" formmethod="POST">
        </div>
      </form>
    </div>

    <div class="col mt-5">
      <h1 class="pl-5">
        <a class="past-data" href="/trades/history">Show Past Trades</a>
      </h1>
    </div>
  </div>

</div>

<div class="p-5 display-share">
  <h1>Active Trades</h1>
  <% if(trades.length != 0){ %>
    <% trades.forEach(function(trade){ %>
      <div class="m-5">
          <h1 class="font-weight-light"> <%= trade.scrip %></h1>
          <h3 class="text-primary font-weight-light"> <%= trade.indicator %></h3>
          <div class="pl-5">  
            <div class="row">

              <div class="col-2 trade-data">
                entry 
              </div>

              <div class="col">
                <%= trade.price.toFixed(2) %> 
              </div>

              <div class="col">
                <%= trade.createdAt.getDate() + "/" + parseInt(trade.createdAt.getMonth())+1 + "/" + trade.createdAt.getFullYear() %> 
              </div>

              <div class="col">
                <%= trade.createdAt.getHours() + ":" + parseInt(trade.createdAt.getMinutes()) + ":" + trade.createdAt.getSeconds() %>                 
              </div>
            </div> 

            <div class="row">
              <div class="col-2 trade-data">
                exit
              </div>

              <div class="col">
                -
              </div>

              <div class="col">
                -
              </div>

              <div class="col">
                -
              </div>
            </div>

            </p>

          </div>
          
      </div>
      <hr class="my-4">

    <% }) %>
  <% } %>

</div>

<%- include("partials/footer") %>
